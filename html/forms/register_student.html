<!-- register_student.html -->
<!-- Gets information from a potential student compares it to make sure
 there is not a match by student ID in the database then creates and logs in a new student
-->

<table class="formContainer"><form name="studentform" method=post action='../../php/validate/validate_student.php' onsubmit="return validateForm();">
	<!-- Gets information from the potential student, username, major -->
	<p><tr><td>First Name: </td><td><input type=text name="firstName" required/></td></tr></p>
	<p><tr><td>Last Name: </td><td><input type=text name="lastName" required/></td></tr></p>
	<p><tr><td>Student ID: </td><td><input type=text name="studentID" class="caps" required/></td><td><p id="idErr"></p></td></tr></p>
	<p><tr><td>UMBC Email: </td><td><input type=text name="email" required/></td><td><p id="emailErr"></p></td></tr></p>
	<p><tr><td>Major: </td><td><select name="major" onchange="Clicked(this.value)">
		<!-- This creates a drop down box of the possible major choices -->
		<option value = "Biological Sciences BA">Biological Sciences BA</option>
		<option value = "Biological Sciences BS">Biological Sciences BS</option>
		<option value = "Biochemistry & Molecular Biology BS">Biochemistry & Molecular Biology BS</option>
		<option value = "Bioinformatics & Computational Biology BS">Bioinformatics & Computational Biology BS</option>
		<option value = "Biology Education BA">Biology Education BA</option>
		<option value = "Chemistry BA">Chemistry BA</option>
		<option value = "Chemistry BS">Chemistry BS</option>
		<option value = "Chemistry Education BA">Chemistry Education BA</option>
		<option value = "Other">Other</option>
	</select></td></tr></p>
	<p><tr><td><br>
		<button type="submit" id="submit" class="button" name="studentSubmit">Next</button>
	</td></tr></p>
	</form></table>
	<p id="otherMsg"></p>
</div>

<script>
	function validateForm(){
	var x = document.forms["studentform"];
		var isValid = true;
		if(!/^[A-Za-z]{2}\d{5}$/g.test(x.studentID.value)){
			x.studentID.style.borderColor = "red";
			document.getElementById("idErr").innerHTML = "Invalid student ID.";
			isValid = false;
		}
		else{
			x.studentID.style.borderColor = "rgb(238,238,238)";
			document.getElementById("idErr").innerHTML = "";
		}
		if(!/^\w+@umbc\.edu$/g.test(x.email.value)){
			x.email.style.borderColor = "red";
			document.getElementById("emailErr").innerHTML = "Invalid student email.";
			isValid = false;
		}
		else{
			x.email.style.borderColor = "rgb(238,238,238)";
			document.getElementById("emailErr").innerHTML = "";
		}
		return isValid;
	}
	function Clicked(value)
	{
		if(value === "Other")
		{
			document.getElementsByName('studentSubmit')[0].style.display = "none";
			document.getElementById('otherMsg').innerHTML = "You can find advising contact information for your new major on the Office for Academic and Pre-Professional Advising Officeâ€™s Departmental Advising page. That contact person/office will be able to give you instructions on how to schedule an advising appointment with someone in that area. <br><br>Good luck with your new major!";
		}
		else {
			document.getElementsByName('studentSubmit')[0].style.display = "block";
			document.getElementById('otherMsg').innerHTML = "";
		}
	}
</script>
